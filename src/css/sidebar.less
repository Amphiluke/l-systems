@import (reference) "vars";

.ls-sidebar {
    background:@color-gray-lighter;
    border-right:1px solid @color-gray-light;
    display:flex;
    flex-direction:column;
    height:100vh;
    left:0;
    min-width:@sidebar-width;
    overflow:auto;
    position:fixed;
    top:0;
}

.ls-panel {
    box-sizing:border-box;
    display:none;
    flex-grow:1;
    padding:10px 10px 10px @sidebar-width + 10px;
    width:300px;

    &-open {
        display:block;
    }

    fieldset {
        border:1px @color-gray-light;
        border-style:solid none none;
        margin:1em 0;
        padding:0.5em 0;
        &:first-child {
            margin-top:0;
        }
    }

    select,
    input[type="text"],
    input[type="number"],
    textarea,
    button {
        box-sizing:border-box;
        margin-bottom:0.25em;
        width:100%;
    }

    hr {
        border:solid @color-gray-light;
        border-width:1px 0 0;
    }

    [data-mark] {
        display:block;
        position:relative;
        &:before {
            background:@color-gray-lighter;
            border-radius:3px;
            box-shadow:0 0 2px 0 @color-gray-dark inset;
            box-sizing:border-box;
            content:attr(data-mark);
            font:bold 12px/1 Arial,sans-serif;
            left:4px;
            min-height:16px;
            min-width:16px;
            padding:2px;
            position:absolute;
            text-align:center;
            top:calc(50% - 2px);
            transform:translateY(-50%);
        }

        input {
            padding:2px 2px 2px 25px;
        }
    }

    .ls-note {
        color:@color-gray-normal;
        font-size:0.8em;
        line-height:1.1;
        margin:0;
    }
}

.ls-tabs {
    background:@color-gray-lighter;
    border-right:1px solid @color-gray-light;
    cursor:default;
    height:100vh;
    left:0;
    position:fixed;
    top:0;
    width:@sidebar-width;
    z-index:2;

    fieldset {
        border:none;
        margin:0;
        padding:0;
        transform:rotate(90deg) translateY(-100%);
        transform-origin:0 0;
        white-space:nowrap;
    }

    button {
        background:none;
        border:none;
        height:@sidebar-width;
        line-height:@sidebar-width;
        padding:0 0.4em;
        transform:rotate(180deg);
        &:hover,
        &.ls-active {
            background:@color-gray-light;
        }
    }
}

.tab-panel-highlight(@panel) {
    .ls-panel-open[data-ls-id^="@{panel}"] ~ .ls-tabs [data-ls-ref="@{panel}"] {
        background:@color-gray-light;
    }
}
.tab-panel-highlight(collections);
.tab-panel-highlight(settings);
.tab-panel-highlight(appearance);
.tab-panel-highlight(exporting);

.ls-about {
    color:@color-gray-normal;
    display:none;
    flex-shrink:0;
    font-size:0.75em;
    padding:10px 10px 10px @sidebar-width + 10px;

    .ls-panel-open ~ & {
        display:block;
    }

    a:not(:hover) {
        color:fade(@color-green-dark, 50%);
    }
}

@import "settings";
@import "collections";
@import "exporting";
